{"version":3,"sources":["indexController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["myApp.controller('indexController', ['$scope', '$http', '$filter', function ($scope, $http, $filter) {\r\n    $scope.index = 'Welcome to the Crypto Index';\r\n    $scope.btcExchange = '';\r\n    $http.get(\"/btc/\").then(successCallback, errorCallback);\r\n    setInterval(function(){\r\n        $http.get(\"/btc/\").then(successCallback, errorCallback)\r\n    },5000);\r\n\r\n    $scope.convert = function($i){\r\n        var usd = $scope.usdExchange;\r\n        var btc = $scope.btcExchange;\r\n        if($i === 1){\r\n            $scope.usdExchange = $filter('currency')($scope.market*btc, '$', 2);\r\n            if(!btc && btc !== 0){\r\n                $scope.btcExchange = '';\r\n                $scope.usdExchange = '';\r\n            }\r\n        }else if($i === 2){\r\n            var total = usd;\r\n            total = total.replace('$', '');\r\n            total = total.replace(',', '');\r\n            $scope.btcExchange = round(total/$scope.market, 8);\r\n            if(!usd){\r\n                $scope.btcExchange = '';\r\n                $scope.usdExchange = '';\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n\r\n    function successCallback(result){\r\n        $scope.market = result.data;\r\n    }\r\n    function errorCallback(data, status){\r\n        console.log(data);\r\n    }\r\n\r\n    function round(value, decimals) {\r\n        return Number(Math.round(value+'e'+decimals)+'e-'+decimals);\r\n    }\r\n}]);"]}